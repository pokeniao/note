---
日期: 2024-03-17
tags:
  - 问题错题
  - 面试
---
# 1.表没有主键可以吗？可以不设置主键吗
>在 [[mysql]] 中，表没有主键是可以的，但是不建议这样做。
>如果你没有显式地指定主键，InnoDB 将会自动创建一个隐藏的主键作为聚集索引，它是一个称为 ROWID 的 6 字节的长整型数字，用于唯一标识表中的每一行。

# 2.数据库3范式
*首先:我要明白数据库3范式是我们设计数据表的要求,而不是[[mysql]]等数据库的数据结构要求*
>**第一范式:** 列不可再分
>**第二范式:** 行可唯一区分
>**第三范式:** 表的非主属性不能依赖与其他表的非主属性

>[!NOTE]- 举例理解：
>第二范式（2NF）
>
考虑一个图书订单系统的订单表，其中包含以下列：订单号（OrderID）、客户名（CustomerName）、书籍ISBN号（BookISBN）、书名（BookTitle）、作者（Author）和作者国籍（AuthorNationality）。
>
在这个例子中，候选键可能是订单号（OrderID），因为订单号唯一标识了每个订单。现在我们来看看是否符合第二范式。
>
**非主属性部分依赖：** 作者（Author）和作者国籍（AuthorNationality）依赖于书籍ISBN号（BookISBN），而不是完全依赖于候选键（OrderID）。
>
为了符合第二范式，我们需要将这些部分依赖关系消除。一种方法是将作者（Author）和作者国籍（AuthorNationality）这两列移至一个独立的书籍信息表中，该表的候选键是书籍ISBN号（BookISBN）。
>
示例2：第三范式（3NF）
 **传递依赖：** 假设我们在订单表中还添加了一个列：作者国籍（AuthorNationality）。这种情况下，书籍ISBN号（BookISBN）和作者国籍（AuthorNationality）之间存在传递依赖关系，因为作者国籍直接依赖于作者（Author），而作者又依赖于书籍ISBN号（BookISBN）。
>
>为了符合第三范式，我们需要进一步分解表，确保每个非主属性都直接依赖于候选键。我们可以创建一个作者表，其中包含作者和作者国籍信息，候选键是作者名字，然后在订单表中使用作者名字作为外键来引用作者表。


# 3.数据库事务的特性（ACID）
1. **原子性**：必须全部成功才提交
2. **一致性**：事务成功后，业务和数据库保持一致
3. **隔离性**：事务与事务不会彼此干扰
4. **持久性**：一旦事务提交，事务就要持久化到数据库